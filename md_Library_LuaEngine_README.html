<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>R-Type: Easily embed lua into applications managed with CMake</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">R-Type
   </div>
   <div id="projectbrief">R-Type project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_Library_LuaEngine_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Easily embed lua into applications managed with CMake </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Due to its simplicity and portability, <a href="https://www.lua.org">Lua</a> became a popular choice for extending applications through a scripting language. The interpreter is available on most platforms, however, depending on globally installed packages is not always reliable (outdated versions, static vs. dynamic library etc.). As compile times of the interpreter are neglible, embedding it as a <b>git submodule</b> can be preferrable. To simplify the Lua integration into <code>cmake</code>-managed projects, this repository offers two simple facilities.</p>
<ul>
<li>The <code>CMakeLists.txt</code> contains instructions for building the interpreter as a library. It is intended to be used via <code>cmake</code>'s <code>add_subdirectory</code> command, and sets up the <code>lua::lib</code> target that can be linked against. Public headers are taken care of and are propagated as a usage requirement.</li>
<li>A git clone of the upstream <a href="https://github.com/lua/lua">sources</a> is configured as a submodule, such that recursive initialization of this repository pulls them in.</li>
</ul>
<p>The Lua version pulled in is the current v5.4.1. The library is built as C (not C++, which is possible), with default upstream compiler flags. Whether a shared or static library is built depends on <code>cmake</code>'s <a href="https://cmake.org/cmake/help/latest/variable/BUILD_SHARED_LIBS.html"><code>BUILD_SHARED_LIBS</code></a> flag. No <code>install</code> target is configured and no standalone executable is built, given the intended use case.</p>
<p>Here's how to use it: </p><div class="fragment"><div class="line">cd path/to/your/project</div>
<div class="line"> </div>
<div class="line">git submodule add https://github.com/lubgr/lua-cmake external/lua</div>
<div class="line"> </div>
<div class="line"># Necessary to automatically pull the upstream Lua sources:</div>
<div class="line">git submodule update --init --recursive external/lua</div>
</div><!-- fragment --><p>In the <code>CMakeLists.txt</code> of your application, add </p><div class="fragment"><div class="line">add_subdirectory(external/lua)</div>
<div class="line"> </div>
<div class="line">target_link_libraries(yourTarget PRIVATE lua::lib)</div>
</div><!-- fragment --><p>That's it. Further integration with a library to facilitate the bindings (e.g. <a href="https://github.com/ThePhD/sol2">sol2</a>) is straightfoward. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
